# RequestValidator Class Documentation

The `RequestValidator` class is designed to validate incoming request data based on specified rules. It provides a flexible and extensible way to define validation rules for various types of data, such as strings, numbers, arrays, objects, and more. The class offers a wide range of built-in validators for common validation scenarios, as well as support for custom validators.

## Constructor

### Parameters:

- `req` (Object): The request object containing the data to be validated. This parameter is mandatory and must be provided when creating an instance of the `RequestValidator` class.

### Example:

```javascript
const validator = new RequestValidator(req);
```

## Methods

### validate

Validates the request data based on the specified rules.

#### Parameters:

- `rules` (Object): The validation rules for the request data. Each key in the object represents a field in the request data, and its value specifies the validation rules for that field.
- `options` (Object): Additional options for validation.
  - `customMessages` (Object): Custom error messages for specific fields. If provided, these messages will override the default error messages generated by the validators.

#### Returns:

- An object containing validation errors, if any. Each key in the object corresponds to a field in the request data, and its value is the error message generated by the validator.

#### Example:

```javascript
const req = { username: 'john_doe', age: 30  };
const validator = new RequestValidator(req);
const rules = {
  username: 'string|alphanumeric|min:5|max:20',
  age: 'number|min:18',
};
const options = {
  customMessages: {
    age: 'The age must be at least 18.',
  },
};
const errors = validator.validate(rules, options);
console.log(errors); // Output: { age: 'The age must be at least 18.' }
```

## Validators

The `RequestValidator` class utilizes various validators to perform specific validation tasks. Here are the validators available:

- **Type Validators**: Ensure that the data type matches the specified type (string, number, array, object, boolean).
- **Length Validators**: Validate the length of strings, arrays, or objects.
- **Case Validators**: Check the case (uppercase, lowercase) of strings.
- **Format Validators**: Validate the format of data (email, date, URL, etc.).
- **Additional Validators**: Provide additional validation rules (whitespace, trim, file validation, etc.).
- **Custom Validators**: Custom validators for specific validation requirements.
- **Security Validators**: Detect and prevent common security vulnerabilities (SQL injection, XSS, etc.).

## Example in Express

```javascript
const express = require('express');
const RequestValidator = require('./RequestValidator');

const app = express();
app.use(express.json());

app.post('/signup', (req, res) => {
  const validator = new RequestValidator(req.body);
  const rules = {
    username: 'string|alphanumeric|min:5|max:20',
    password: 'string|min:8',
    email: 'email',
  };
  const errors = validator.validate(rules);
  if (Object.keys(errors).length === 0) {
    // Data is valid, proceed with signup
    res.status(200).json({ message: 'Signup successful!' });
  } else {
    // Validation errors, return error response
    res.status(400).json({ errors });
  }
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});
```

In this example, the Express server receives a POST request to the `/signup` endpoint with JSON data containing `username`, `password`, and `email` fields. The `RequestValidator` class is used to validate the request body against specified rules. If there are validation errors, the server responds with a 400 status code and the error messages; otherwise, it responds with a 200 status code indicating successful signup.